<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="../css/style.css"/>
	<title>Lesson 18(task 6)</title>
</head>
<body>
	<a href="../index.html" class="back">Список задач</a>
	<h1 class="title">Задача 6</h1>
	<p class="description">
		Користувач задає кількість оцінок і натискає на 
		кнопку «get table». В результаті формується таблиця 
		з input, куди користувач вводить оцінки. Після 
		цього натискає на кнопку “get sum” і знаходить середнє значення
	</p>
	<label class="label" style="margin-bottom: 20px;">
		Scores number:
		<input type="number" placeholder="scores number" id="scores-quantity" class="input">
	</label>
	<br>
	<button style="margin-bottom: 20px;" type="button" class="actions__button">Get Table</button>
	<script>
		const inpScores = document.querySelector('#scores-quantity')
		const btn = document.querySelector('button')
		let scoresQuantity
		inpScores.addEventListener('change', () => {
			scoresQuantity = parseInt(inpScores.value)
		})
		btn.addEventListener('click', () => {
			const table = document.createElement('table')
			table.style.marginBottom = '20px'
			const body = document.querySelector('body')
			body.append(table)
			for (let i = 0; i < scoresQuantity; i++) {
				const tr = document.createElement('tr')
				table.append(tr)
				const td = document.createElement('td')
				td.innerHTML = '<input type="number" placeholder="score" id="score" class="input">'
				tr.append(td)
			}

			const getSum = document.createElement('button')
			getSum.classList.add('actions__button')
			getSum.id = 'get-sum'
			getSum.innerText = 'Get sum'
			body.append(getSum)

			const btnSum = document.querySelector('#get-sum')
			const scoresArray = document.querySelectorAll('#score')
			btnSum.addEventListener('click', () => {
				let sum = 0
				for (const score of scoresArray) {
					sum += parseInt(score.value)
				}
				let avgSum = sum/scoresArray.length
				let p = document.createElement('p')
				p.innerText = `sum = ${avgSum}`
				body.append(p)
			})
		})
	</script>
</body>
</html>